# Program Builder - Athlete Training Management System

## Overview

This is a full-stack web application for managing athlete training programs. Built with React and Express, it provides a comprehensive interface for creating, viewing, editing, and deleting training programs for athletes. The application uses a modern tech stack with TypeScript, shadcn/ui components, and follows a clean separation between client and server code.

## User Preferences

Preferred communication style: Simple, everyday language.

## System Architecture

### Frontend Architecture

**Framework & Build System:**
- React 18 with TypeScript for type safety
- Vite as the build tool and development server
- Wouter for lightweight client-side routing
- React Query (TanStack Query) for server state management with infinite stale time and disabled refetching by default

**UI Component System:**
- shadcn/ui (New York variant) as the primary component library
- Radix UI primitives for accessible, unstyled components
- Tailwind CSS for styling with custom design tokens
- Class Variance Authority (CVA) for component variant management
- Design aesthetic inspired by Linear and Vercel dashboards

**Form Management:**
- React Hook Form for form state and validation
- Zod for schema validation
- @hookform/resolvers for integrating Zod with React Hook Form

**Design System:**
- Fully black theme in both light and dark modes (all backgrounds set to pure black #000000)
- High-contrast light foregrounds for readability on black backgrounds
- All buttons default to small ("sm") size
- Custom color tokens defined in CSS variables
- Consistent spacing using Tailwind's scale (2, 4, 6, 8 units)
- Inter font family or system font stack fallback
- Utility classes for elevation effects (hover-elevate, active-elevate-2)

### Backend Architecture

**Server Framework:**
- Express.js with TypeScript
- ES Modules (type: "module" in package.json)
- Custom error handling middleware
- Request/response logging middleware with performance tracking

**Development vs Production:**
- Vite middleware integration in development mode
- Static file serving in production
- SSR template rendering for initial page load
- Replit-specific plugins for development (cartographer, dev-banner, runtime-error-modal)

**API Architecture:**
- RESTful API design with /api prefix for all routes
- JSON request/response format
- Credential-based authentication support (credentials: "include")
- Centralized storage interface pattern for data operations

### Data Layer

**Database Configuration:**
- Drizzle ORM for type-safe database operations
- PostgreSQL as the database (via @neondatabase/serverless)
- Schema-first approach with type inference
- Migrations stored in ./migrations directory
- Drizzle-Zod integration for runtime validation from database schemas

**Data Models:**
- Users table with UUID primary keys, username, and password fields
- Athlete interface with id and name fields
- Program interface with:
  - id: UUID (auto-generated)
  - programId: String format "P" + 6 random digits (auto-generated by backend)
  - athleteId: String
  - athleteName: String
  - startDate: String (YYYY-MM-DD format)
  - endDate: String (YYYY-MM-DD format)
  - routineTypes: Array of strings (movement, throwing, lifting, nutrition)
- Type-safe insert and select types generated from Drizzle schemas

**Storage Pattern:**
- Abstract IStorage interface defining CRUD operations
- MemStorage implementation for in-memory data (currently active)
- Program storage with auto-generated program IDs (P + 6 random digits)
- Initialized with 4 sample programs for testing
- Designed for easy swapping to database-backed storage
- Shared schema types between client and server via @shared imports

**API Endpoints:**
- GET /api/programs - Fetch all programs
- POST /api/programs - Create new program (auto-generates programId)
- DELETE /api/programs/:id - Delete a program by ID

### External Dependencies

**Core Infrastructure:**
- Neon Database serverless driver for PostgreSQL connections
- Connect-pg-simple for PostgreSQL session storage
- Date-fns for date manipulation and formatting

**UI Component Libraries:**
- 25+ Radix UI primitives (@radix-ui/react-*)
- Embla Carousel for carousel functionality
- Lucide React for icons
- CMDK for command palette functionality
- Recharts for charting (infrastructure present)
- Vaul for drawer components

**Development Tools:**
- TSX for TypeScript execution in development
- ESBuild for production server bundling
- Drizzle Kit for database migrations and schema management
- Replit-specific development plugins for enhanced DX

**Path Aliases:**
- @/ maps to client/src/
- @shared/ maps to shared/
- @assets/ maps to attached_assets/

## Application Features

### Program Management
- View all programs in a table with columns: Program ID, Athlete Name, Start Date, End Date, Actions
- Program IDs are auto-generated in format "P" + 6 random digits (e.g., P123456)
- Create new programs via dedicated add-program page (not a modal)
- Multi-select routine types with checkboxes (Movement, Throwing, Lifting, Nutrition)
- All routine types are pre-selected by default
- Calendar-based date range selection for start and end dates
- Auto-calculated weeks display based on selected date range
- Form validation using Zod schemas
- Toast notifications for success/error feedback

### UI/UX Patterns
- Separate page for adding programs (/add-program) instead of modal dialogs
- Two-column layout on add-program page: calendar on left, selected data on right
- Athlete selection via searchable combobox dropdown
- All buttons use small size by default for consistent UI
- React Query for data fetching and cache management
- Optimistic UI updates after successful mutations

### Recent Changes (October 2025)
- Implemented fully black theme across all surfaces
- Changed default button size to "sm" globally
- Added programId auto-generation to backend storage
- Created add-program page with calendar and multi-select routine types
- Integrated React Query for program CRUD operations
- Added API routes for program management